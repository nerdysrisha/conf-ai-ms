# Configuration Azure Storage
AZURE_STORAGE_ACCOUNT_NAME=saconfidentialai
AZURE_STORAGE_CONTAINER_NAME=encrypted-documents-skr
# Configuration Azure Key Vault
AZURE_KEYVAULT_URL=https://kvconfidentialai.vault.azure.net/

# Configuration Azure Authentication (optionnel)
# Si défini, utilise ManagedIdentityCredential avec ce client ID
# Sinon, utilise DefaultAzureCredential
# AZURE_CLIENT_ID=your_managed_identity_client_id

# Configuration Azure AI Search
AZURE_SEARCH_SERVICE_NAME=confidentialsearch
AZURE_SEARCH_INDEX_NAME=documents-index-skr

# Configuration Azure Document Intelligence
AZURE_DOC_INTELLIGENCE_ENDPOINT=http://di-extraction-ai-document-intelligence-layout.ai.svc.cluster.local
# Clé API factice car le SDK de DocIntelligence demande une api-key.
AZURE_DOC_INTELLIGENCE_API_KEY=fake-key

# Configuration LLM phi-3.5 via Ollama
PHI_MODEL_ENDPOINT=https://my-confidential-llm.centralus.cloudapp.azure.com
# API-Key mise en place pour l'authentification au modele via Caddy
PHI_MODEL_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
PHI_MODEL_NAME=/dev/shm/decrypted_model/gpt-oss-20b

# Configuration Nomic Embed Text (pour les embeddings)
NOMIC_EMBED_ENDPOINT=http://nomic-svc.ai.svc.cluster.local/api/embeddings
NOMIC_EMBED_API_KEY=fake-key
NOMIC_EMBED_MODEL=nomic-embed-text
NOMIC_EMBED_DIMENSION=768

# Configuration de l'application
SECRET_KEY=dev-secret-key-change-in-production
DEBUG=False
FLASK_ENV=development

# Configuration SKR (Secure Key Release) - Mode Confidentiel
ENABLE_SKR_MODE=true
SKR_MAA_ENDPOINT=https://shareditn.itn.attest.azure.net
SKR_KEYVAULT_KEY_URL=https://kvconfidentialai.vault.azure.net/keys/KekForSKR/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Managed Identity lié au Service Account
IMDS_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# URL de base de l'application (pour les liens de téléchargement)
# En local: http://localhost:8000
# En production: https://ai-app.mydomain.com
APP_BASE_URL=https://ai-app-skr.mydomain.com

# Configuration du traitement des documents
CHUNK_SIZE=500
CHUNK_OVERLAP=150
MAX_FILE_SIZE=10485760
UPLOAD_TIMEOUT_SECONDS=600

# Configuration du chunking intelligent
USE_SMART_CHUNKING=true
SMART_CHUNK_TARGET_SIZE=400
SMART_CHUNK_MAX_SIZE=600
SMART_CHUNK_OVERLAP=80

# Configuration avancée des tableaux
TABLE_CHUNKING_STRATEGY=preserve_structure
TABLE_MAX_ROWS_PER_CHUNK=10
TABLE_ALWAYS_INCLUDE_HEADERS=true
TABLE_SEMANTIC_GROUPING=true
TABLE_COLUMN_CHUNKING=false

# Configuration LLM
MAX_TOKENS=1500
TEMPERATURE=0.3
TOP_P=0.3

# Noms des clés dans Key Vault
ENCRYPTION_PRIVATE_KEY_NAME=KekForSKR
ENCRYPTION_PUBLIC_KEY_NAME=KekForSKR

# Configuration IronCore Alloy
# Nom du secret dans Azure Key Vault contenant la clé maître (format: openssl rand -hex 128)
IRONCORE_MASTER_KEY_NAME=ironcore-master-key

# Configuration Chiffrement de Recherche (Nouvelle fonctionnalité)
ENABLE_SEARCH_ENCRYPTION=True

# Configuration Debug LLM
# Contrôle l'affichage des informations de debug pour le service LLM
LLM_DEBUG_VERBOSE=false    # Affiche les payloads complets et détails des requêtes
LLM_DEBUG_STREAMING=false  # Affiche les chunks individuels lors du streaming
